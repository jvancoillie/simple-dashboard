"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[492],{88:function(e,t,n){var i=class{constructor(e,t,n,i,a){this.location=e,this.units=t,this.appid=n,this.forecastDays=i,this.lang=a,this.icon_mapping={"01d":"wi-day-sunny","01n":"wi-day-sunny","02d":"wi-day-cloudy","02n":"wi-day-cloudy","03d":"wi-cloud","03n":"wi-cloud","04d":"wi-cloudy","04n":"wi-cloudy","09d":"wi-rain","09n":"wi-rain","10d":"wi-day-rain","10n":"wi-day-rain","11d":"wi-thunderstorm","11n":"wi-thunderstorm","13d":"wi-snow","13n":"wi-snow","50d":"wi-fog","50n":"wi-fog"}}fetchWeatherData(){const e=`https://api.openweathermap.org/data/2.5/weather?q=${this.location}&units=${this.units}&appid=${this.appid}&lang=${this.lang}`;fetch(e).then((e=>e.json())).then((e=>{this.updateWeatherCard(e)})).catch((e=>console.error("Erreur lors de la récupération des données météo actuelles",e)))}fetchForecastData(){const e=`https://api.openweathermap.org/data/2.5/forecast/daily?q=${this.location}&units=${this.units}&appid=${this.appid}&cnt=${this.forecastDays+1}&lang=${this.lang}`;fetch(e).then((e=>e.json())).then((e=>{this.updateForecast(e)})).catch((e=>console.error("Erreur lors de la récupération des prévisions météo",e)))}updateWeatherCard(e){document.querySelector(".weather-icon img"),document.querySelector(".temperature"),document.querySelector(".conditions");document.getElementsByClassName("ow-city-name")[0].innerHTML=e.name,document.getElementsByClassName("ow-temp-current")[0].innerHTML=Math.round(e.main.temp)+"&deg",document.getElementsByClassName("ow-pressure")[0].innerHTML=e.main.pressure+" hPa",document.getElementsByClassName("ow-humidity")[0].innerHTML=e.main.humidity+"%",document.getElementsByClassName("ow-wind")[0].innerHTML=e.wind.speed+" km/h",document.getElementsByClassName("ow-ico-current")[0].classList.add(this.icon_mapping[e.weather[0].icon]),this.fetchForecastData()}updateForecast(e){const t=document.querySelector(".ow-forecast");t.innerHTML="";for(let n=1;n<=this.forecastDays;n++){const i=e.list[n],a=document.createElement("div");a.classList.add("ow-forecast-item");const s=new Date(1e3*i.dt).toLocaleDateString("fr-FR",{weekday:"long"}),o=(i.temp.day.toFixed(0),i.temp.min.toFixed(0)),c=i.temp.max.toFixed(0),r=(i.weather[0].description,this.icon_mapping[i.weather[0].icon]);a.innerHTML=`\n        <div class="ow-day">${s}</div>\n        <div class="wi ow-ico ow-ico-forecast ${r}"></div>\n        <div class="ow-forecast-temp">\n            <span class="max">${o}&deg</span>\n            <span class="min">${c}&deg</span>\n        </div>\n      `,t.appendChild(a)}}getIconWithHighestOccurence(e){let t=Array.prototype.slice.call(e);return t.sort(((e,n)=>t.filter((t=>t===e)).length-t.filter((e=>e===n)).length)).pop()}},a=n(652),s=n(678);new a.Z(".mySwiper",{modules:[s.tl,s.pt],spaceBetween:30,loop:!0,autoplay:{delay:1e4,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0}});const o=["zoomIn","backInRight","slideInUp","fadeInRight"],c=document.querySelectorAll(".tile");function r(){const e=document.getElementById("currentTime"),t=new Date;e.textContent=t.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit",second:"2-digit"})}c.forEach((function(e,t){setTimeout((function(){e.style.display="flex",e.classList.add("is-visible","animate__animated","animate__"+o[t])}),1e3*t)})),r(),setInterval(r,1e3);new i("Poitiers","metric","9c5213ce52fe7ffa15a904fc80a5f879",3,"fr").fetchWeatherData()}},function(e){e.O(0,[576],(function(){return t=88,e(e.s=t);var t}));e.O()}]);